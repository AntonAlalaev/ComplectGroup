@using ComplectGroup.Web.Models
@model ReceiptViewModel

@{
    ViewData["Title"] = "–ü—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞";
}

<div class="container mt-4" style="max-width: 600px;">
    <div class="card">
        <div class="card-header bg-success text-white">
            <h4>üì• –ü—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥</h4>
        </div>
        <div class="card-body">
            <form asp-action="Receipt" method="post">
                @if (!ViewData.ModelState.IsValid)
                {
                    <div class="alert alert-danger">
                        <div asp-validation-summary="All"></div>
                    </div>
                }

                <div class="mb-3">
                    <label asp-for="PartId" class="form-label">–î–µ—Ç–∞–ª—å</label>
                    <select asp-for="PartId" class="form-select" required>
                        <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª—å --</option>
                        @foreach (var part in Model.Parts)
                        {
                            <option value="@part.Id">
                                [@part.Chapter.Name] @part.Name
                            </option>
                        }
                    </select>
                    <span asp-validation-for="PartId" class="invalid-feedback"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Quantity" class="form-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (—à—Ç)</label>
                    <input asp-for="Quantity" type="number" class="form-control" min="1" required />
                    <span asp-validation-for="Quantity" class="invalid-feedback"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Notes" class="form-label">–ü—Ä–∏–º–µ—á–∞–Ω–∏—è</label>
                    <textarea asp-for="Notes" class="form-control" rows="3" 
                              placeholder="–ù–æ–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞, –ø–æ—Å—Ç–∞–≤—â–∏–∫, –∏ —Ç.–¥."></textarea>
                    <span asp-validation-for="Notes" class="invalid-feedback"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="ReceiptDate" class="form-label">–î–∞—Ç–∞ –ø—Ä–∏—ë–º–∫–∏</label>
                    <input asp-for="ReceiptDate" type="datetime-local" class="form-control" />
                </div>

                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-success btn-lg">–ü—Ä–∏–Ω—è—Ç—å —Ç–æ–≤–∞—Ä</button>
                    <a asp-action="Index" class="btn btn-secondary">–û—Ç–º–µ–Ω–∞</a>
                </div>
            </form>
        </div>
    </div>
</div>
