@model List<WarehouseItemDto>

@{
    ViewData["Title"] = "–°–∫–ª–∞–¥ –¥–µ—Ç–∞–ª–µ–π";
}

<div class="container mt-4">
    <div class="row mb-4">
        <div class="col-md-6">
            <h1>üì¶ –°–∫–ª–∞–¥ –¥–µ—Ç–∞–ª–µ–π</h1>
        </div>
        <div class="col-md-6 text-end">
            <a asp-action="Receipt" class="btn btn-success">
                <i class="bi bi-arrow-down"></i> –ü—Ä–∏—Ö–æ–¥–æ–≤–∞–Ω–∏–µ
            </a>
            <a asp-action="Ship" class="btn btn-primary">
                <i class="bi bi-arrow-up"></i> –û—Ç–≥—Ä—É–∑–∫–∞
            </a>
        </div>
    </div>

    @if (TempData["Success"] != null)
    {
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            @TempData["Success"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            @TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    @if (Model?.Any() == true)
    {
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>–†–∞–∑–¥–µ–ª</th>
                    <th>–î–µ—Ç–∞–ª—å</th>
                    <th class="text-center">–î–æ—Å—Ç—É–ø–Ω–æ</th>
                    <th class="text-center">–ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ</th>
                    <th class="text-center">–í—Å–µ–≥–æ</th>
                    <th>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.Part.Chapter.Name</td>
                        <td>@item.Part.Name</td>
                        <td class="text-center"><span class="badge bg-success">@item.AvailableQuantity</span></td>
                        <td class="text-center"><span class="badge bg-warning">@item.ReservedQuantity</span></td>
                        <td class="text-center"><strong>@item.TotalQuantity</strong></td>
                        <td>@item.LastModifiedDate.ToString("dd.MM.yyyy HH:mm")</td>
                    </tr>
                }
            </tbody>
        </table>

        <div class="mt-3">
            <p class="text-muted">–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ: <strong>@Model.Count</strong></p>
        </div>
    }
    else
    {
        <div class="alert alert-info">
            –ù–∞ —Å–∫–ª–∞–¥–µ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤. <a asp-action="Receipt">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</a>
        </div>
    }

    <div class="mt-4">
        <a asp-action="ReceiptHistory" class="btn btn-outline-info">–ò—Å—Ç–æ—Ä–∏—è –ø—Ä–∏—ë–º–æ–∫</a>
        <a asp-action="ShippingHistory" class="btn btn-outline-info">–ò—Å—Ç–æ—Ä–∏—è –æ—Ç–≥—Ä—É–∑–æ–∫</a>
    </div>
</div>
